@using TeamScreen.Models.TeamCity
@model Dictionary<string, TeamCityBuildModel[]>

<h1>TeamCity status</h1>

@foreach (var project in Model)
{
    <h2>@project.Key</h2>
    foreach (var build in project.Value)
    {
        if (build.Status == TeamCityStatusModel.Success)
        {
            <div>
                <h2 style="color: green">@build.Name <small class="pull-right vertical-middle">@build.Date</small></h2>
            </div>
        }
        else if (build.Status == TeamCityStatusModel.Pending)
        {
            <div>
                <h2 style="color: orange">@build.Name <small class="pull-right vertical-middle">@build.TrrggeredBy @build.Date</small></h2>
            </div>
        }
        else
        {
            <div>
                <h2 style="color: red">@build.Name <small class="pull-right vertical-middle">@build.TrrggeredBy @build.Date</small></h2>
            </div>
        }
    }
}

@section Scripts{
    <script type="text/javascript">
        window.setTimeout(function () {
            window.location.href = '@Url.Action("Index","Jira")';
        }, 60000);
    </script>
}